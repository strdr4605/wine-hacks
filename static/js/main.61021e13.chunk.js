(window["webpackJsonpwine-hacks"]=window["webpackJsonpwine-hacks"]||[]).push([[0],{14:function(e,t,n){e.exports=n(40)},20:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e){e.exports=JSON.parse('[{"question":"Which wine is older?","field":"year","compare":">"},{"question":"Which wine is younger?","field":"year","compare":"<"},{"question":"Which wine is more alcoholic?","field":"alcohol ","compare":">"},{"question":"Which wine has more sugar?","field":"sugar","compare":">"},{"question":"Which wine has less sugar?","field":"sugar","compare":"<"}]')},40:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(10),i=n.n(o),c=n(6),s=n.n(c),u=n(11),l=n(4),f=(n(20),n(12)),p=n.n(f);n(36);var E,d,m=function(e){var t=e.vintage,n=e.onClick,r=e.showInfo;return a.a.createElement("div",{className:"wine-item"},a.a.createElement("div",{className:"wine-details"},a.a.createElement("img",{src:t.photo.url,alt:""}),a.a.createElement("p",null,function(e){var t=e.photo?e.photo.name.split(".")[0]:"No Name";return p.a.titleCase(t)}(t)),r&&function(e){return a.a.createElement("div",null,a.a.createElement("p",null,"Alcohol is: ",a.a.createElement("strong",null,e.alcohol)),a.a.createElement("p",null,"Sugar is: ",a.a.createElement("strong",null,e.alcohol)),a.a.createElement("p",null,"Year: ",a.a.createElement("strong",null,e.year)),a.a.createElement("p",null,"Wine type: ",a.a.createElement("strong",null,e.categorySimple.find((function(e){return e})))))}(t)),a.a.createElement("button",{disabled:r,className:"btn wine-vote",onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return n(t.id)}))},"Vote this Wine"))},h=(n(37),function(e){var t=e.question;return a.a.createElement("div",null,a.a.createElement("h1",{className:"wine-question"},t.question))}),y=(n(38),function(){return a.a.createElement("footer",null,a.a.createElement("div",null,a.a.createElement("a",{href:"https://github.com/strdr4605/wine-hacks"},"WineQuiz"),"\xa0 Made by\xa0",a.a.createElement("a",{href:"https://github.com/strdr4605"},"Drago\u0219 Str\u0103inu,"),"\xa0",a.a.createElement("a",{href:"https://github.com/CapceleaCristian"},"Capcelea Cristian,"),"\xa0",a.a.createElement("a",{href:"https://github.com/Andreeii"},"\u021aurcanu Andrei"),"\xa0 at\xa0",a.a.createElement("a",{href:"https://www.facebook.com/events/2390607614550967/"},"Wine Hacks 2.0")))}),b=n(13);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.FETCH_VINTAGES_SUCCESS="FETCH_VINTAGES_SUCCESS",e.UPDATE_ROUND="UPDATE_ROUND",e.INCREMENT_SCORE="INCREMENT_SCORE",e.RESET_SCORE="RESET_SCORE"}(E||(E={})),function(e){e.MORE=">",e.LESS="<"}(d||(d={}));var S={wineList:{},questions:n(39),score:0,round:{}};function g(e,t){switch(t.type){case E.FETCH_VINTAGES_SUCCESS:return O({},e,{wineList:t.payload?t.payload:{}});case E.UPDATE_ROUND:return O({},e,{round:t.payload?t.payload:{}});case E.INCREMENT_SCORE:return O({},e,{score:e.score+1});case E.RESET_SCORE:return O({},e,{score:0});default:return e}}var v=function(){var e=Object(r.useReducer)(g,S),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(!1),c=Object(l.a)(i,2),f=c[0],p=c[1],b=Object(r.useState)({firstIndex:1,secondIndex:2}),w=Object(l.a)(b,2),O=w[0],v=w[1];function C(){if(Object.keys(n.wineList).length){var e=Object.keys(n.wineList).map((function(e){return Number(e)})).sort((function(){return.5-Math.random()})).slice(0,2),t={question:n.questions[Math.floor(Math.random()*n.questions.length)],players:e};o({type:E.UPDATE_ROUND,payload:t}),v({firstIndex:e[0],secondIndex:e[1]})}}function N(){return(N=Object(u.a)(s.a.mark((function e(){var t,n,r,a,i,c,u,l,f,p,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=new Array(13).fill(1).map((function(e,t){return t+1})),n=[],r=!0,a=!1,i=void 0,e.prev=5,c=t[Symbol.iterator]();!(r=(u=c.next()).done);r=!0)l=u.value,f=fetch("https://app.gustos.life/en/api/v1/vintage/".concat(l)).then((function(e){return e.json()})),n.push(f);e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),a=!0,i=e.t0;case 13:e.prev=13,e.prev=14,r||null==c.return||c.return();case 16:if(e.prev=16,!a){e.next=19;break}throw i;case 19:return e.finish(16);case 20:return e.finish(13);case 21:return e.next=23,Promise.all(n);case 23:p=e.sent,d=p.reduce((function(e,t){return e[t.id]=t,e}),{}),o({type:E.FETCH_VINTAGES_SUCCESS,payload:d});case 26:case"end":return e.stop()}}),e,null,[[5,9,13,21],[14,,16,20]])})))).apply(this,arguments)}function j(e){var t=n.wineList[O.firstIndex],r=n.wineList[O.secondIndex];if(n.questions[0].compare===d.MORE){var a=n.questions[0].field;e===(t[a]<=r[a]?t.id:r.id)?(p(!0),o({type:E.INCREMENT_SCORE}),document.body.style.background="#39ff14",setTimeout((function(){C(),p(!1),document.body.style.background="#fff"}),5e3)):(o({type:E.RESET_SCORE}),document.body.style.background="#FF073A",setTimeout((function(){C(),p(!1),document.body.style.background="#fff"}),5e3))}}return Object(r.useEffect)((function(){document.title="WineQuiz",function(){N.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){C()}),[n.wineList]),a.a.createElement("div",{className:"App"},n.round.question&&a.a.createElement(h,{question:n.round.question}),a.a.createElement("div",{className:"quiz-counter"},"Your score: ",a.a.createElement("span",null,n.score)),Object.keys(n.wineList).length>0&&n.round.players&&n.round.players.length>0&&a.a.createElement("div",{className:"quiz-section"},a.a.createElement(m,{showInfo:f,vintage:n.wineList[O.firstIndex],onClick:j}),a.a.createElement("h1",null,"VS"),a.a.createElement(m,{showInfo:f,vintage:n.wineList[O.secondIndex],onClick:j})),console.log(n),a.a.createElement(y,null))};i.a.render(a.a.createElement(v,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.61021e13.chunk.js.map